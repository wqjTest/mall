!function(t){"use strict";function o(t){return{set:function(e,i){t.setItem(e,n.serialize(i))},get:function(e){return n.deserialize(t.getItem(e))},remove:function(e){t.removeItem(e)},clear:function(){t.clear()}}}var e=t.document,i={};$(t).on("load",function(){"function"==typeof FastClick&&FastClick.attach(e.body)});var n=i.util={parseOptions:function(t){if($.isPlainObject(t))return t;var e=t?t.indexOf("{"):-1,i={};if(-1!=e)try{i=new Function("","var json = "+t.substr(e)+"; return JSON.parse(JSON.stringify(json));")()}catch(t){}return i},pageScroll:function(){var t=function(t){t.preventDefault(),t.stopPropagation()},i=!1;return{lock:function(){i||(i=!0,e.addEventListener("touchmove",t))},unlock:function(){i=!1,e.removeEventListener("touchmove",t)}}}(),localStorage:function(){return o(t.localStorage)}(),sessionStorage:function(){return o(t.sessionStorage)}(),serialize:function(t){return"string"==typeof t?t:JSON.stringify(t)},deserialize:function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}}};$.fn.emulateTransitionEnd=function(t){var e=!1,i=this;$(this).one("webkitTransitionEnd",function(){e=!0});var n=function(){e||$(i).trigger("webkitTransitionEnd")};setTimeout(n,t)},"function"==typeof define?define(i):t.YDUI=i}(window),function(t){var e=t.document,i=t.YDUI,n=t.navigator&&t.navigator.userAgent||"",o=!!n.match(/(iPad).*OS\s([\d_]+)/),a=!!n.match(/(iPod)(.*OS\s([\d_]+))?/),r=!o&&!!n.match(/(iPhone\sOS)\s([\d_]+)/);i.device={isMobile:!!n.match(/AppleWebKit.*Mobile.*/)||"ontouchstart"in e.documentElement,isIOS:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),isAndroid:!!n.match(/(Android);?[\s\/]+([\d.]+)?/),isIpad:o,isIpod:a,isIphone:r,isWebView:(r||o||a)&&!!n.match(/.*AppleWebKit(?!.*Safari)/i),isWeixin:n.indexOf("MicroMessenger")>-1,isMozilla:/firefox/.test(navigator.userAgent.toLowerCase()),pixelRatio:t.devicePixelRatio||1}}(window),function(t){t.document.addEventListener("touchstart",function(t){},!1)}(window),function(t){"use strict";function i(t,e){this.$element=$(t),this.options=$.extend({},i.DEFAULTS,e||{}),this.init()}function n(t){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=$(this),o=n.data("ydui.cityselect");o||n.data("ydui.cityselect",o=new i(this,t)),"string"==typeof t&&o[t]&&o[t].apply(o,e)})}var e=$(t.document.body);i.DEFAULTS={provance:"",city:"",area:""},i.prototype.init=function(){var t=this,e=t.options;if("undefined"==typeof YDUI_CITYS)return void console.error("请在ydui.js前引入ydui.citys.js。下载地址：http://cityselect.ydui.org");t.citys=YDUI_CITYS,t.createDOM(),t.defaultSet={provance:e.provance,city:e.city,area:e.area}},i.prototype.open=function(){var t=this;e.append(t.$mask),YDUI.device.isMozilla&&t.$element.blur(),t.$mask.on("click.ydui.cityselect.mask",function(){t.close()});var i=t.$cityElement,n=t.defaultSet;i.find(".cityselect-content").removeClass("cityselect-move-animate cityselect-next cityselect-prev"),t.loadProvance(),n.provance?t.setNavTxt(0,n.provance):i.find(".cityselect-nav a").eq(0).addClass("crt").html("请选择"),n.city&&(t.loadCity(),t.setNavTxt(1,n.city)),n.area&&(t.loadArea(),t.ForwardView(!1),t.setNavTxt(2,n.area)),i.addClass("brouce-in")},i.prototype.close=function(){var t=this;t.$mask.remove(),t.$cityElement.removeClass("brouce-in").find(".cityselect-nav a").removeClass("crt").html(""),t.$itemBox.html("")},i.prototype.createDOM=function(){var t=this;t.$mask=$('<div class="mask-black"></div>'),t.$cityElement=$('<div class="m-cityselect">    <div class="cityselect-header">        <p class="cityselect-title">所在地区</p>        <div class="cityselect-nav">            <a href="javascript:;" ></a>            <a href="javascript:;"></a>            <a href="javascript:;"></a>        </div>    </div>    <ul class="cityselect-content">        <li class="cityselect-item">            <div class="cityselect-item-box"></div>        </li>        <li class="cityselect-item">            <div class="cityselect-item-box"></div>        </li>        <li class="cityselect-item">            <div class="cityselect-item-box"></div>        </li>    </ul></div>'),e.append(t.$cityElement),t.$itemBox=t.$cityElement.find(".cityselect-item-box"),t.$cityElement.on("click.ydui.cityselect",".cityselect-nav a",function(){var e=$(this);e.addClass("crt").siblings().removeClass("crt"),e.index()<2?t.backOffView():t.ForwardView(!0)})},i.prototype.setNavTxt=function(t,e){var i=this.$cityElement.find(".cityselect-nav a");t<2&&i.removeClass("crt"),i.eq(t).html(e),i.eq(t+1).addClass("crt").html("请选择"),i.eq(t+2).removeClass("crt").html("")},i.prototype.backOffView=function(){this.$cityElement.find(".cityselect-content").removeClass("cityselect-next").addClass("cityselect-move-animate cityselect-prev")},i.prototype.ForwardView=function(t){this.$cityElement.find(".cityselect-content").removeClass("cityselect-move-animate cityselect-prev").addClass((t?"cityselect-move-animate":"")+" cityselect-next")},i.prototype.bindItemEvent=function(){var t=this,e=t.$cityElement;e.on("click.ydui.cityselect",".cityselect-item-box a",function(){var i=$(this);if(!i.hasClass("crt")){i.addClass("crt").siblings().removeClass("crt");var n=i.data("tag");t.setNavTxt(n,i.text());var o=e.find(".cityselect-nav a"),a=t.defaultSet;0==n?(t.loadCity(),e.find(".cityselect-item-box").eq(1).find("a").removeClass("crt")):1==n?(t.loadArea(),t.ForwardView(!0),e.find(".cityselect-item-box").eq(2).find("a").removeClass("crt")):(a.provance=o.eq(0).html(),a.city=o.eq(1).html(),a.area=o.eq(2).html(),t.returnValue())}})},i.prototype.returnValue=function(){var t=this,e=t.defaultSet;t.$element.trigger($.Event("done.ydui.cityselect",{provance:e.provance,city:e.city,area:e.area})),t.close()},i.prototype.scrollPosition=function(t){var e=this,i=e.$itemBox.eq(t),n=i.find("a.crt").height(),o=i.parent().height();i.parent().animate({scrollTop:i.find("a.crt").index()*n-o/3},0,function(){e.bindItemEvent()})},i.prototype.fillItems=function(t,e){var i=this;i.$itemBox.eq(t).html(e).parent().animate({scrollTop:0},10),i.scrollPosition(t)},i.prototype.loadProvance=function(){var t=this,e=[];$.each(t.citys,function(i,n){e.push($('<a class="'+(n.n==t.defaultSet.provance?"crt":"")+'" href="javascript:;"><span>'+n.n+"</span></a>").data({citys:n.c,tag:0}))}),t.fillItems(0,e)},i.prototype.loadCity=function(){var t=this,e=t.$itemBox.eq(0).find("a.crt").data("citys"),i=[];$.each(e,function(e,n){i.push($('<a class="'+(n.n==t.defaultSet.city?"crt":"")+'" href="javascript:;"><span>'+n.n+"</span></a>").data({citys:n.a,tag:1}))}),t.fillItems(1,i)},i.prototype.loadArea=function(){var t=this,e=t.$itemBox.eq(1).find("a.crt").data("citys"),i=[];$.each(e,function(e,n){i.push($('<a class="'+(n==t.defaultSet.area?"crt":"")+'" href="javascript:;"><span>'+n+"</span></a>").data({tag:2}))}),i.length<=0&&i.push($('<a href="javascript:;"><span>全区</span></a>').data({tag:2})),t.fillItems(2,i)},$.fn.citySelect=n}(window),function(){"use strict";function t(e,n){function a(t,e){return function(){return t.apply(e,arguments)}}var o;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=e,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!t.notNeeded(e)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,c=0,l=r.length;c<l;c++)s[r[c]]=a(s[r[c]],s);i&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,n){var o=Node.prototype.removeEventListener;"click"===t?o.call(e,t,i.hijacked||i,n):o.call(e,t,i,n)},e.addEventListener=function(t,i,n){var o=Node.prototype.addEventListener;"click"===t?o.call(e,t,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):o.call(e,t,i,n)}),"function"==typeof e.onclick&&(o=e.onclick,e.addEventListener("click",function(t){o(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!e,n=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,o=n&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=n&&/OS [6-7]_\d/.test(navigator.userAgent),r=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(n&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},t.prototype.determineEventType=function(t){return i&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;n&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,i;if(!(e=t.fastClickScrollParent)||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,i,a;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],n){if(a=window.getSelection(),a.rangeCount&&!a.isCollapsed)return!0;if(!o){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},t.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,r,s,c,l,u=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,r=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(l=t.changedTouches[0],u=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(s=u.tagName.toLowerCase())){if(e=this.findControl(u)){if(this.focus(u),i)return!1;u=e}}else if(this.needsFocus(u))return t.timeStamp-r>100||n&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,t),n&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return!(!n||o||!(c=u.fastClickScrollParent)||c.fastClickLastScrollTop===c.scrollTop)||(this.needsClick(u)||(t.preventDefault(),this.sendClick(u,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;i&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,n,o;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(r&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},t.attach=function(e,i){return new t(e,i)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}();